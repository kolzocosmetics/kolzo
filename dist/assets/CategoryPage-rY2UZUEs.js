import{j as e,m as i}from"./animations-sV36GJQT.js";import{e as A,r as l,L as F}from"./vendor-DQ2qSJbu.js";import{p as I,a as G}from"./products-m-ub1GFE1h.js";const O=({gender:m})=>{const[H]=A(),[w,D]=l.useState([]),[N,z]=l.useState("newest"),[c,k]=l.useState(""),[a,u]=l.useState(""),[p,b]=l.useState([]),[W,d]=l.useState(!1),[f,C]=l.useState([]),[j,g]=l.useState(-1),[L,T]=l.useState(""),E=l.useMemo(()=>m==="women"?["Handbags","Lipstick","Scarf","Blush","Lip Balm","Perfumes","Eye Liner","Compact","Watches"]:["Wallet","Bracelets","Perfumes","Handbags","Watches","Moisturiser","Face Wash","Sunscreen","Shaving Kit"],[m]);l.useEffect(()=>{const s=Object.values(m==="women"?I:G).flat();D(s);const r=H.get("category");r&&k(r),window.scrollTo(0,0)},[m,H]),l.useEffect(()=>{g(-1)},[a]);const y=l.useCallback((t,s)=>{const r=t.toLowerCase().replace(/[^a-z0-9]/g,""),n=s.toLowerCase().replace(/[^a-z0-9]/g,"");if(r.includes(n))return!0;let x=0,o=0,v=0;const P=Math.floor(n.length*.3);for(;x<n.length&&o<r.length;)if(n[x]===r[o])x++,o++;else{if(v++,v>P)return!1;const M=r.indexOf(n[x],o);M!==-1&&M-o<=2?o=M:o++}return x===n.length},[]),B=l.useCallback((t,s)=>{if(!s)return t;const r=new RegExp(`(${s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return t.split(r).map((x,o)=>r.test(x)?e.jsx("span",{className:"bg-yellow-100 font-medium",children:x},o):x)},[]),h=l.useMemo(()=>{let t=w;if(c&&(t=t.filter(s=>s.category===c)),a.trim()){const s=a.toLowerCase();t=t.filter(r=>r.name.toLowerCase().includes(s)||r.description.toLowerCase().includes(s)||r.category.toLowerCase().includes(s)||y(r.name,a)||y(r.description,a))}switch(N){case"price-low":return[...t].sort((s,r)=>s.price-r.price);case"price-high":return[...t].sort((s,r)=>r.price-s.price);case"name":return[...t].sort((s,r)=>s.name.localeCompare(r.name));default:return t}},[w,c,a,N,y]),S=l.useCallback(t=>{if(t.length<1)return[];const s=new Set,r=t.toLowerCase().replace(/[^a-z0-9]/g,"");return w.forEach(n=>{n.name.toLowerCase().split(" ").forEach(o=>{const v=o.replace(/[^a-z0-9]/g,"");(y(o,t)||v.includes(r))&&s.add(o.charAt(0).toUpperCase()+o.slice(1))}),(y(n.category,t)||n.category.toLowerCase().includes(r))&&s.add(n.category)}),Array.from(s).slice(0,8)},[w,y]);l.useEffect(()=>{const t=setTimeout(()=>{if(a.trim()){const s=S(a);b(s),d(s.length>0)}else b([]),d(!1)},300);return()=>clearTimeout(t)},[a,S]);const $=m==="women"?"https://images.unsplash.com/photo-1441986300917-64674bd600d8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80":"https://images.unsplash.com/photo-1617137968427-85924c800a22?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80";return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs(i.section,{className:"relative h-[60vh] md:h-[70vh] overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:$,alt:`${m}'s luxury collection`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/30"})]}),e.jsx("div",{className:"relative z-10 h-full flex items-center justify-center text-white",children:e.jsxs(i.div,{className:"text-center px-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[e.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-light tracking-[0.2em] uppercase mb-6",children:[m,"'s Collection"]}),e.jsxs("p",{className:"text-lg md:text-xl font-light tracking-wide max-w-2xl mx-auto",children:["Discover our curated selection of luxury ",m,"'s items crafted with unparalleled attention to detail."]})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[e.jsxs(i.div,{className:"mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative max-w-lg mx-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search products, categories, or descriptions...",value:a,onChange:t=>{const s=t.target.value;u(s),b(S(s)),d(s.length>=1)},onFocus:()=>{d(a.length>=1)},onBlur:()=>{setTimeout(()=>{d(!1)},200)},onKeyDown:t=>{if(t.key==="ArrowDown")t.preventDefault(),g(s=>s<p.length-1?s+1:s);else if(t.key==="ArrowUp")t.preventDefault(),g(s=>s>0?s-1:-1);else if(t.key==="Enter")if(t.preventDefault(),j>=0&&p[j]){const s=p[j];u(s),d(!1),g(-1),f.includes(s)||C(r=>[s,...r.slice(0,4)])}else d(!1),g(-1),a.trim()&&!f.includes(a.trim())&&C(s=>[a.trim(),...s.slice(0,4)]);else t.key==="Escape"&&(d(!1),g(-1))},className:"w-full px-12 py-5 text-sm font-light tracking-wide border-2 border-gray-200 bg-white focus:outline-none focus:border-black focus:ring-0 transition-all duration-500 rounded-none"}),e.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a&&e.jsx(i.button,{onClick:()=>{u(""),b([]),d(!1)},className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-100 rounded-full transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx("svg",{className:"w-4 h-4 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),W&&(p.length>0||f.length>0)&&e.jsxs(i.div,{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 shadow-lg z-50 mt-1",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[f.length>0&&a===""&&e.jsxs("div",{className:"p-3 border-b border-gray-100",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Recent Searches"}),f.slice(0,3).map((t,s)=>e.jsx(i.button,{onClick:()=>{u(t),d(!1)},className:"block w-full text-left px-3 py-2 text-sm hover:bg-gray-50 transition-colors duration-200",whileHover:{x:5},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t]})},s))]}),p.length>0&&e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Suggestions"}),p.map((t,s)=>e.jsx(i.button,{onClick:()=>{u(t),d(!1),g(-1),f.includes(t)||C(r=>[t,...r.slice(0,4)])},className:`block w-full text-left px-3 py-2 text-sm transition-colors duration-200 ${s===j?"bg-gray-100 text-black":"hover:bg-gray-50"}`,whileHover:{x:5},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t]})},s))]})]}),a&&e.jsxs(i.div,{className:"mt-3 text-center",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gray-50 px-4 py-2 rounded-full",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsxs("span",{className:"text-xs text-gray-600 font-light",children:["Found ",h.length," ",h.length===1?"product":"products",' for "',a,'"']}),h.length>0&&e.jsxs("span",{className:"text-xs text-gray-400",children:["â€¢ ",Math.round(h.length/w.length*100),"% of collection"]})]}),L&&h.length===0&&e.jsx(i.div,{className:"mt-3 text-center",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-50 px-4 py-2 rounded-full",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs text-blue-600 font-light",children:'Did you mean: "'}),e.jsx("button",{onClick:()=>{u(L),T("")},className:"text-xs text-blue-800 font-medium underline hover:no-underline",children:L}),e.jsx("span",{className:"text-xs text-blue-600 font-light",children:'"?'})]})})]})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-6 lg:space-y-0",children:[e.jsx("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:E.map(t=>e.jsx(i.button,{onClick:()=>k(t),className:`px-4 lg:px-6 py-3 text-sm font-light tracking-wide border transition-all duration-500 hover:scale-105 ${t.toLowerCase()===c.toLowerCase()?"bg-gray-100 text-black border-gray-400 shadow-sm font-medium":"bg-white text-gray-600 border-gray-300 hover:border-gray-600 hover:text-black hover:bg-gray-50"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:t},t))}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm font-light tracking-wide text-gray-600",children:"Sort by:"}),e.jsxs("select",{value:N,onChange:t=>z(t.target.value),className:"px-6 py-3 text-sm font-light tracking-wide border-2 border-gray-300 bg-white focus:outline-none focus:border-black transition-all duration-500 cursor-pointer",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"name",children:"Name A-Z"})]})]})]})]}),e.jsx(i.div,{className:"mb-12 text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},children:e.jsxs("div",{className:"inline-flex items-center space-x-4 bg-gray-50 px-6 py-3",children:[e.jsxs("span",{className:"text-sm font-light tracking-wide text-gray-600",children:[h.length," ",h.length===1?"product":"products"," found"]}),(a||c)&&e.jsxs(i.div,{className:"flex items-center space-x-2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:[e.jsx("span",{className:"text-xs text-gray-400",children:"â€¢"}),e.jsxs("span",{className:"text-xs text-gray-500 font-light",children:[a&&`Search: "${a}"`,a&&c&&" â€¢ ",c&&`Category: ${c}`]})]})]})}),e.jsx(i.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},children:h.length>0?h.map((t,s)=>e.jsx(i.div,{className:"group cursor-pointer",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.1,ease:[.25,.46,.45,.94]},whileHover:{y:-5},children:e.jsxs(F,{to:`/product/${t.id}`,children:[e.jsxs("div",{className:"aspect-square bg-gray-50 mb-6 overflow-hidden relative border border-gray-100",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),e.jsx(i.button,{className:"absolute top-4 right-4 p-3 bg-white/90 backdrop-blur-sm rounded-full opacity-0 group-hover:opacity-100 transition-all duration-500 hover:bg-white hover:scale-110 shadow-lg",whileHover:{scale:1.1},whileTap:{scale:.95},children:e.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-sm font-light tracking-wide mb-2 group-hover:text-gray-600 transition-colors duration-500",children:a?B(t.name,a):t.name}),e.jsxs("p",{className:"text-lg font-medium mb-2",children:["$",t.price.toLocaleString()]}),e.jsx("p",{className:"text-xs text-gray-500 font-light tracking-wide mb-3",children:a?B(t.category,a):t.category}),e.jsx("div",{className:"w-8 h-px bg-gray-300 mx-auto opacity-50"})]})]})},t.id)):e.jsx(i.div,{className:"col-span-full text-center py-20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-xl font-light tracking-[0.1em] mb-4 text-gray-600",children:"No products found"}),e.jsx("p",{className:"text-gray-400 text-sm font-light mb-8 leading-relaxed",children:a?`No products match "${a}". Try different keywords or browse all categories.`:c?`No products in the "${c}" category. Try another category or clear filters.`:"Try adjusting your search or filter criteria."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a&&e.jsx(i.button,{onClick:()=>u(""),className:"px-6 py-3 text-sm font-light tracking-wide border border-gray-300 hover:border-black transition-all duration-500",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Clear Search"}),c&&e.jsx(i.button,{onClick:()=>k(""),className:"px-6 py-3 text-sm font-light tracking-wide border border-gray-300 hover:border-black transition-all duration-500",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Clear Filters"})]})]})})})]})]})};export{O as default};
